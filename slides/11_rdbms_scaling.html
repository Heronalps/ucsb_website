<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>RDBMS Scaling and Service Oriented Architectures</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="theme/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="theme/css/screen.css">
    
    
      
      <link rel="stylesheet" href="theme/css/custom.css">
      
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="theme/js/slides.js"></script>
    
    
    
    <!-- /Javascripts -->

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-67332703-1', 'auto');
      ga('send', 'pageview');
    </script>
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide title slide-1">
          <div class="inner">
            
            <header><h1>RDBMS Scaling and Service Oriented Architectures</h1></header>
            
            
            <section><p><strong>CS290B</strong></p>
<p>Dr. Bryce Boe</p>
<p>November 3, 2015</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              1/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-2">
          <div class="inner">
            
            <header><h1>Today's Agenda</h1></header>
            
            
            <section><ul>
<li>TODO</li>
<li>RDBMS</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              2/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-3">
          <div class="inner">
            
            <header><h1>TODO</h1></header>
            
            
            <section><ul>
<li>Write Tsung xml file containing a single-complete session</li>
<li>Use XML file to establish a baseline load test</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              3/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-4">
          <div class="inner">
            
            <header><h1>Motivation</h1></header>
            
            
            <section><p>You have your web application running on EC2. It is becoming increasingly
popular and performance is degrading.</p>
<blockquote>
<p>What do you do?</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              4/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-5">
          <div class="inner">
            
            <header><h1>Handling Concurrent Requests</h1></header>
            
            
            <section><p>You have deployed application servers that can serve many concurrent requests.</p>
<p>But as your site's popularity continues to grow that is not sufficient.</p>
<blockquote>
<p>What do you do?</p>
</blockquote>
<h1>Vertical Scaling</h1>
<p>You have increased your instance sizes and handled more load.</p>
<p>However, as the popularity continues to grow you are no longer able to continue
scaling vertically.</p>
<blockquote>
<p>What do you do?</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              5/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-6">
          <div class="inner">
            
            <header><h1>Horizontal Scaling</h1></header>
            
            
            <section><p>You have introduced a load balancer that distributes traffic across a pool of
application servers.</p>
<p>Nevertheless, as the traffic continues to increase, additional horizontal
scaling of the application servers does not solve the problem.</p>
<blockquote>
<p>What do you do?</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              6/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-7">
          <div class="inner">
            
            <header><h1>Caching</h1></header>
            
            
            <section><p>You have properly configured HTTP caching such that unnecessary requests never
happen.</p>
<p>You are also caching heavyweight database operations.</p>
<p>But it is still not enough to handle the increased load of your popular site.</p>
<blockquote>
<p>What do you do?</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              7/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-8">
          <div class="inner">
            
            <header><h1>SQL Structure and Query Optimization</h1></header>
            
            
            <section><p>You have reduced the number of queries your application servers makes to the
database.</p>
<p>You have used <code>EXPLAIN</code> to discover indexes to add, and to ensure your most
common SQL queries are as optimal as possible.</p>
<p>However, your database is still a bottleneck.</p>
<blockquote>
<p>What do you do?</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              8/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-9">
          <div class="inner">
            
            <header><h1>Database Vertical Scaling</h1></header>
            
            
            <section><blockquote>
<p>Is your database swapping (out of memory)?</p>
</blockquote>
<p>Scale up the amount of memory.</p>
<blockquote>
<p>Is your database load too high?</p>
</blockquote>
<p>Scale up the CPU.</p>
<blockquote>
<p>Are neither of those working?
What do you do?</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              9/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-10">
          <div class="inner">
            
            <header><h1>Database Horizontal Scaling?</h1></header>
            
            
            <section><p>With application servers we are able to scale horizontally by adding additional
machines and introducing a load balancer to access them.</p>
<blockquote>
<p>Can we do the same with the database?</p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              10/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-11">
          <div class="inner">
            
            <header><h1>Non-trivial DB Horizontal Scaing</h1></header>
            
            
            <section><blockquote>
<p>Can we horizontally scale the database by adding more database servers and
accessing them through a load balancer?</p>
</blockquote>
<p>Unfortunately, it's not that simple.</p>
<p>Horizontal scaling works great for <em>stateless</em> services. However, the database
contains the state of our application, thus is not trivial to horizontally
scale.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              11/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-12">
          <div class="inner">
            
            <header><h1>R(X), W(X), R(X)</h1></header>
            
            
            <section><p>TODO: Image of load balanced operations.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              12/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-13">
          <div class="inner">
            
            <header><h1>Scaling Relational Databases</h1></header>
            
            
            <section><p>In a future lecture we will discuss scaling the data layer using non-relational
databases (NoSQL).</p>
<p>Today we will discuss in what ways we <strong>can</strong> horiztonally scale a relational
database.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              13/14
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: 11_rdbms_scaling.md -->
      <div class="slide-wrapper">
        <div class="slide slide-14">
          <div class="inner">
            
            <header><h1>Three Techniques</h1></header>
            
            
            <section><p>Each of the following techniques partitions RDBMS in a different way:</p>
<ul>
<li>Sharding</li>
<li>Service Oriented Architectures (SOA)</li>
<li>Separating Reads from Writes</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="11_rdbms_scaling.md">11_rdbms_scaling.md</a>
            </aside>
            
            <aside class="page_number">
              14/14
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">RDBMS Scaling and Service Oriented Architectures</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">Today's Agenda</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">TODO</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Motivation</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">Handling Concurrent Requests</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">Horizontal Scaling</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">Caching</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">SQL Structure and Query Optimization</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Database Vertical Scaling</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Database Horizontal Scaling?</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Non-trivial DB Horizontal Scaing</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">R(X), W(X), R(X)</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">Scaling Relational Databases</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">Three Techniques</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>